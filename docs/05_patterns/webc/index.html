<!doctype html>
<html>
<head>
<title>Web Components</title>
<link rel="stylesheet" href="/styles/prism.css">
<link rel="stylesheet" href="/styles/theme.css">
<style>/* Kram: CSS in Scene 9 */
command-group + command-group {
  --command-group-display-top-hr: none;
}

/* Kram: CSS in Scene 11 */
/* CSS to clean up the demo */

.menu-bar {
  display: flex;
  position: relative;
  gap: 4em;
  background: #f0f0f0;
  padding: 0 0.5em;
}

.menu-bar::after {
  content: "";
  position: absolute;
  height: 4px;
  left: 0;
  right: 0;
  bottom: 0;
  border-bottom: 4px solid #888;
}

.menu-bar > * {
  padding: 0.5em 0;
}
</style>
<script type="module">// module Kram_ccdea868_webc (ES6)
          import { register } from "/_scripts/oper.ative.js"
          
          console.log('Loading module "Kram_ccdea868_webc"')
          export function Program ({connectStore, initializeStore}) {
            // JS Definition from scene 1
class HelloWorldElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("hello-world-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }
}

customElements.define("hello-world", HelloWorldElement);

// JS Definition from scene 3
class HelloStyleElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("hello-style-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }
}

customElements.define("hello-style", HelloStyleElement);

// JS Definition from scene 4
class GreetWorldElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("greet-world-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }
}

customElements.define("greet-world", GreetWorldElement);

// JS Definition from scene 5
class ArrowButtonElement extends HTMLElement {
  static get observedAttributes() {
    return ["heading"];
  }

  constructor() {
    super();
    let content = document.getElementById("arrow-button-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }

  connectedCallback() {
    const heading = this.getAttribute("heading");

    if (heading) {
      this._updateRotation(heading);
    }
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (name === "heading") {
      this._updateRotation(newValue);
    }
  }

  _updateRotation(heading) {
    const button = this.shadowRoot.firstElementChild;
    button.style.setProperty("--arrow-rotation", heading);
  }
}

customElements.define("arrow-button", ArrowButtonElement);

// JS Definition from scene 6
class V1DropdownElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("dropdown-menu-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
    this.isShownInput = this.shadowRoot.getElementById("is-shown");

    this.clickawayHandler = (ev) => {
      if (!ev.composedPath().includes(this)) {
        this.toggle(false);
      } else {
        ev.stopPropagation();
      }
    };

    this.isShownInput.addEventListener("change", () =>
      this.toggleClickAway(this.isShownInput.checked)
    );
  }

  toggle(open) {
    this.isShownInput.checked = open;
    this.toggleClickAway(open);
  }

  toggleClickAway(open) {
    if (open) {
      document.addEventListener("click", this.clickawayHandler);
    } else {
      document.removeEventListener("click", this.clickawayHandler);
    }
  }
}

customElements.define("dropdown-menu", V1DropdownElement);

// JS Definition from scene 8
class DropdownBaseElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("dropdown-base-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
    this.isShownInput = this.shadowRoot.getElementById("is-shown");

    this.clickawayHandler = (ev) => {
      if (!ev.composedPath().includes(this)) {
        this.toggle(false);
      } else {
        ev.stopPropagation();
      }
    };

    this.isShownInput.addEventListener("change", () =>
      this.toggleClickAway(this.isShownInput.checked)
    );
  }

  toggle(open) {
    this.isShownInput.checked = open;
    this.toggleClickAway(open);
  }

  toggleClickAway(open) {
    if (open) {
      document.addEventListener("click", this.clickawayHandler);
    } else {
      document.removeEventListener("click", this.clickawayHandler);
    }
  }
}

customElements.define("dropdown-base", DropdownBaseElement);

// JS Definition from scene 9
class CommandMenuElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("command-menu-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }
}

class CommandGroupElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("command-group-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }
}

customElements.define("command-menu", CommandMenuElement);
customElements.define("command-group", CommandGroupElement);

// JS Definition from scene 10
class ActionItemElement extends HTMLElement {
  constructor() {
    super();
    let content = document.getElementById("action-item-template").content;
    this.attachShadow({ mode: "open" }).appendChild(content.cloneNode(true));
  }
}

customElements.define("action-item", ActionItemElement);

            return ({
              
            })
          }
          export function mount (mountpoint, initial) {
            let Store = {
              root: Object.assign({}, initial),
            };
            const connectStore = (path = ["root"]) => {
              let root = Store;
              path.forEach((key) => root = root[key]);
              return ({
                root,
                get: (key) => root[key],
                set: (key, value) => root[key] = value,
                keys: () => Object.keys(root),
              })};
            const program = Program({connectStore})
            return (n, container) => {
              program[n-1].call(container)
            }
          }
          register("Kram_ccdea868_webc", {Program, mount})
        </script>
</head>
<body>
<template id="hello-world-template">
  <h1>Hello, <slot>world</slot>!</h1>
</template>

<template id="hello-style-template">
  <h1>Hello, <slot class="fancy">world</slot>!</h1>

  <style>
    h1 {
      font-family: Georgia;
      font-size: 6rem;
    }

    .fancy {
      font-style: italic;
      color: darkorange;
    }
  </style>
</template>

<template id="greet-world-template">
  <h1>
    <slot name="greeting">Hello</slot>, <slot name="recipient">world</slot>!
  </h1>

  <style>
    h1 {
      font-family: Georgia;
      font-size: 6rem;
    }

    slot[name="recipient"] {
      font-style: italic;
      color: darkorange;
    }
  </style>
</template>

<template id="arrow-button-template">
  <button>
    <svg viewBox="0 0 24 24">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M3.5 10.4853L11.9853 2L20.4706 10.4853L17.9706 12.9853L14 9.01472V22H10V8.98528L6 12.9853L3.5 10.4853Z"
      /></svg
    ><slot></slot>
  </button>

  <style>
    svg {
      display: inline-block;
      width: 1.5rem;
      height: 1.5rem;
      fill: currentColor;
      transform: rotate(var(--arrow-rotation, 0));
    }
  </style>
</template>

<template id="dropdown-menu-template">

  <input type="checkbox" id="is-shown" />
  <label for="is-shown">
    <slot>Menu</slot>
  </label>
  <slot name="menu">
    <ul>
      <li>Command 1</li>
      <li>Command 2</li>
      <li>Command 3</li>
    </ul>
  <slot>

  <style>
    :host {
      display: inline-block;
      position: relative;
    }

    #is-shown {
      display: none;
    }

    label {
      cursor: pointer;
    }

    slot[name="menu"]{
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      border: 1px solid;
    }

    #is-shown:checked ~ slot[name="menu"] {
      display: block;
    }

    /* CSS for slotted elements and default slot content */

    ::slotted(ul[slot="menu"]),
    slot[name="menu"] > ul {
      margin: 0;
      padding: 0.25em;
      list-style: none;
      white-space: nowrap;
    }
  </style>
</template>

<template id="dropdown-base-template">
  <input type="checkbox" id="is-shown" />
  <label for="is-shown">
    <slot><button onclick="() => null">Menu</button></slot>
  </label>
  <div id="layer">
    <slot name="layer">
      <command-menu>
        <action-item>Action Item 1</action-item>
        <action-item>Action Item 2</action-item>
        <action-item>Action Item 3</action-item>
      </command-menu>
    <slot>
  </div>

  <style>
    :host {
      position: relative;
    }

    #is-shown {
      display: none;
    }

    #layer {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
    }

    #is-shown:checked ~ #layer {
      display: block;
    }
  </style>
</template>

<template id="command-menu-template">
  <menu>
    <slot>
      <action-item>Menu Item 1</action-item>
      <action-item>Menu Item 2</action-item>
      <action-item>Menu Item 3</action-item>
    </slot>
  </menu>

  <style>
    menu {
      display: flex;
      flex-direction: column;
      margin: 0;
      padding: 0.5em;
      gap: 0.25em;
      list-style: none;
      border: 1px solid;
    }
  </style>
</template>

<template id="command-group-template">
  <hr id="top-hr" />
  <ul>
    <slot>
      <action-item>Group Item 1</action-item>
      <action-item>Group Item 2</action-item>
      <action-item>Group Item 3</action-item>
    </slot>
  </ul>
  <hr />

  <style>
    :host {
      --command-group-display-top-hr: block;
    }

    hr {
      margin: 0 -0.5em 0.25em;
    }

    #top-hr {
      display: var(--command-group-display-top-hr);
    }

    ul {
      display: flex;
      flex-direction: column;
      margin: 0;
      padding: 0 0 0.25em;
      gap: 0.25em;
      list-style: none;
    }
  </style>
</template>

<template id="action-item-template">
  <button>
    <slot>Some Action</slot>
  </button>
  <style>
    button {
      white-space: nowrap;
      color: inherit;
      text-decoration: none;
      cursor: pointer;
    }
  </style>
</template>


<st-ative><script>
  const STORE_CHANGE_EVENT = "store:change";

  function createStore(eventTarget, initial = {}) {
    let root = Object.assign({}, initial);

    console.log("create Global Store for st-ative", JSON.stringify(root));

    return new Proxy(root, {
      get: (target, prop, receiver) => {
        const value = Reflect.get(target, prop, receiver);
        return value;
      },
      set: (target, prop, newValue, receiver) => {
        const oldValue = root[prop];
        const didSet = Reflect.set(target, prop, newValue, receiver);
        if (didSet) {
          eventTarget.dispatchEvent(changeEvent(prop, newValue, oldValue));
        }
        return didSet;
      },
    });
  }

  function changeEvent(prop, newValue, oldValue) {
    // ref: https://infrequently.org/2021/03/reactive-data-modern-js/
    let evt = new CustomEvent(STORE_CHANGE_EVENT, {
      bubbles: true,
      cancelable: true,
    });
    evt.oldValue = oldValue;
    evt.value = newValue;
    evt.property = prop;

    return evt;
  }

  customElements.define(
    "st-ative",
    class extends HTMLElement {
      constructor() {
        super();

        const storeRoot = [];
        let Store = createStore(this, {
          "current-scene": 1,
        });

        this.dataset.provider = JSON.stringify(storeRoot);

        this.observe = (key, watcher) => {
          if (watcher) {
            this.addEventListener(STORE_CHANGE_EVENT, (evt) => {
              if (evt.property === key) {
                watcher(evt.value, evt.oldValue);
              }
            });
          }
          return { value: Store[key] };
        };

        this.bind = (key, watcher) => {
          const observation = this.observe(key, watcher);
          return {
            get: () => Store[key],
            set: (newValue) => (Store[key] = newValue),
            ...observation,
          };
        };

        console.log("Store provider constructed");
      }
    }
  );
</script>

<!-- template -->
<article>
  
<navig-ative class="wguho-1wx"><!-- template --><footer>
  <h6><span>Web Components
</span></h6>
  <span>
    <button name="previous">Previous</button>
    <input width="6" type="number" min="1" value="1">
    <button name="next">Next</button>
  </span>
</footer>

<style>.wguho-1wx{height:var(--heightFooter)}.wguho-1wx footer{display:flex;flex-direction:row;padding:0.5rem;gap:0.5rem;justify-content:space-between;align-items:baseline}.wguho-1wx footer>*{margin:0}@media print{.wguho-1wx footer{display:none}}</style>
<!-- /template -->

<script>
  console.log("Defining navig-ative...");

  customElements.define(
    "navig-ative",
    class extends HTMLElement {
      connectedCallback() {
        let provider = this.closest("[data-provider]");
        let numberInput = this.querySelector(':scope input[type="number"]');
        let previousButton = this.querySelector(
          ':scope button[name="previous"]'
        );
        let nextButton = this.querySelector(':scope button[name="next"]');

        console.log("Navig-ative attempting to connect...", provider);

        if (provider) {
          const { get, set } = provider.bind(
            "current-scene",
            (newValue) => (numberInput.value = newValue)
          );

          numberInput.value = get();

          numberInput.addEventListener("change", () => set(numberInput.value));

          previousButton.addEventListener("click", () => set(get() - 1));

          nextButton.addEventListener("click", () => {
            set(get() + 1);
          });

          console.log("Consolid-ative (webc)");
        }
      }
    }
  );
</script>
</navig-ative>
<consolid-ative class="wca28tbqe"><!-- <template> for consolid-ative --><main class="layout">
  
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <hello-world></hello-world>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-world</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Hello, world</h1>

<p>Here is “Hello, world” implemented as a web component.
Notice that all we need to do is reference the <code data-mark-around="`">&lt;hello-world&gt;</code> element in our HTML.</p>

<p>But… <em data-mark-around="_">searches HTML standard…</em> where did this new <code data-mark-around="`">&lt;hello-world&gt;</code> element come from?
And why does it have a hyphen in the name?</p>

<p>The answer is that we’ve defined an HTML
<a href="https://html.spec.whatwg.org/multipage/custom-elements.html">custom element</a>
and all custom elements are required to contain a hyphen in the name.
This is to ensure that custom element names do not conflict with yet-to-be-defined HTML tags in the future.</p>

<p>We define a custom element in HTML using the <code data-mark-around="`">&lt;template&gt;</code> HTML element.
Inside the template we put whatever HTML we want to have inserted whenever the custom element is used.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello-world-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>There’s one more thing we need, and that is to bind our template to the tag name <code data-mark-around="`">hello-world</code> by
registering a Javascript <code data-mark-around="`">class</code> and attaching our template in its <code data-mark-around="`">constuctor</code>.</p>

<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">HelloWorldElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"hello-world-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"hello-world"</span><span class="token punctuation">,</span> HelloWorldElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <hello-world> web components </hello-world>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span><span class="token punctuation">&gt;</span></span> web components <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-world</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Slots</h1>

<p>Notice that the template for <code data-mark-around="`">&lt;hello-world&gt;</code> includes <code data-mark-around="`">&lt;slot&gt;</code> markup.
Slots allow us to swap out different content each time the component is used.
In this case, the <code data-mark-around="`">&lt;slot&gt;</code> contains the word “world”, so we can use this same
template to say hello to anything.</p>

<p>A slot can be thought of as a parameter to the component.
Every time we use the component, we can assign a different value to the slot
by putting that value in the body of the component.</p>

</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <hello-style> component style </hello-style>

<h1>This &lt;H1&gt; has no style</h1>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-style</span><span class="token punctuation">&gt;</span></span> component style <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>This <span title="<" class="token entity named-entity">&amp;lt;</span>H1<span title=">" class="token entity named-entity">&amp;gt;</span> has no style<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Styling the template</h1>

<p>By inserting a <code data-mark-around="`">&lt;style&gt;</code> element inside our template, we can apply CSS to elements
in the template without affecting anything outside our component.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello-style-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fancy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h1</span> <span class="token punctuation">{</span>
      <span class="token property">font-family</span><span class="token punctuation">:</span> Georgia<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 6rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.fancy</span> <span class="token punctuation">{</span>
      <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> darkorange<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>Remember, every time we define a new component, we need this boilerplate:</p>

<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">HelloStyleElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"hello-style-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"hello-style"</span><span class="token punctuation">,</span> HelloStyleElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <greet-world>
  <span slot="greeting">Greetings</span>
  <span slot="recipient">earthlings</span>
</greet-world>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>greet-world</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>greeting<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Greetings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>recipient<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>earthlings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>greet-world</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Named Slots</h1>

<p>Just as a function can have more than one parameter,
a component template can contain more than one <code data-mark-around="`">&lt;slot&gt;</code>.
To distinguish between multiple slots, the slots need to have a <code data-mark-around="`">name</code> attribute.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>greet-world-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>greeting<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>recipient<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>!
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h1</span> <span class="token punctuation">{</span>
      <span class="token property">font-family</span><span class="token punctuation">:</span> Georgia<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 6rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">slot[name="recipient"]</span> <span class="token punctuation">{</span>
      <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> darkorange<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>To assign content to a named slot, we need to put it in an element that has a <code data-mark-around="`">slot</code> attribute.
The value of the <code data-mark-around="`">slot</code> attribute needs to match the <code data-mark-around="`">name</code> attribute of a slot
in the template.
There can be at most one unnamed slot in a template definition.
Any untagged text, or elements with no <code data-mark-around="`">slot</code> attribute, will be added to
the unnamed slot, it it exists.</p>

<p>We are using <code data-mark-around="`">&lt;span&gt;</code> for the slot value, because the <code data-mark-around="`">&lt;slot&gt;</code> occurs in the middle of text.
Using something other than a span may change the styling or even result in invalid markup.</p>

<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">GreetWorldElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"greet-world-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"greet-world"</span><span class="token punctuation">,</span> GreetWorldElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <arrow-button></arrow-button>
<arrow-button heading="90deg"></arrow-button>
<arrow-button heading="180deg"></arrow-button>
<arrow-button heading="-90deg"></arrow-button>
<arrow-button heading="45deg"></arrow-button>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arrow-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arrow-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arrow-button</span> <span class="token attr-name">heading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>90deg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arrow-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arrow-button</span> <span class="token attr-name">heading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>180deg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arrow-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arrow-button</span> <span class="token attr-name">heading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-90deg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arrow-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arrow-button</span> <span class="token attr-name">heading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>45deg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arrow-button</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Custom Attributes</h1>

<p>Components can be defined to accept attributes, even attributes
that do not exist in standard HTML5.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>arrow-button-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 24 24<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
        <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>evenodd<span class="token punctuation">"</span></span>
        <span class="token attr-name">clip-rule</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>evenodd<span class="token punctuation">"</span></span>
        <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M3.5 10.4853L11.9853 2L20.4706 10.4853L17.9706 12.9853L14 9.01472V22H10V8.98528L6 12.9853L3.5 10.4853Z<span class="token punctuation">"</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">svg</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
      <span class="token property">fill</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>
      <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--arrow-rotation<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>Here we are using the CSS <code data-mark-around="`">transform</code> property to rotate the arrow icon.
On the CSS for our component, we’ve defined a custom property <code data-mark-around="`">--arrow-rotation</code>
and then referenced that in the CSS rule for the <code data-mark-around="`">svg</code>.
The last step is to copy the value of the <code data-mark-around="`">heading</code> attribute into the
<code data-mark-around="`">--arrow-rotation</code> property.
This cannot be done in the template, so we have to add some code to the
Javascript class that defines our custom element.</p>

<p>We already have written the <code data-mark-around="`">constructor</code> for that class, but there is no
way to access the host element’s attributes from the constructor.
Instead we need to use the <em data-mark-around="_">lifecycle callbacks</em> that are provided to
us by the Web Components API.</p>

<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">ArrowButtonElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">observedAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"heading"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"arrow-button-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> heading <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"heading"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>heading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateRotation</span><span class="token punctuation">(</span>heading<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">attributeChangedCallback</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">"heading"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateRotation</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">_updateRotation</span><span class="token punctuation">(</span><span class="token parameter">heading</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span>
    button<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"--arrow-rotation"</span><span class="token punctuation">,</span> heading<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"arrow-button"</span><span class="token punctuation">,</span> ArrowButtonElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>The <code data-mark-around="`">connectedCallback</code> function is invoked each time the custom element
is connected to a host element. In a static page, this will happen only once.
But if the DOM is being manipulated such that the host element is moved,
<code data-mark-around="`">connectedCallback</code> will be called again.
Because <code data-mark-around="`">connectedCallback</code> is a member function of our custom element
class, it can access the host element via <code data-mark-around="`">this</code>.</p>

</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <section>
  <nav class="menu-bar">
    <dropdown-menu>
      File
      <ul slot="menu">
        <li>New…</li>
        <li><hr></li>
        <li>Open…</li>
        <li>Open Recent</li>
        <li><hr></li>
        <li>Save</li>
        <li>Save As…</li>
        <li>Revert to Last Saved</li>
        <li><hr></li>
        <li>Close</li>
      </ul>
    </dropdown-menu>
    <dropdown-menu> Edit </dropdown-menu>
    <dropdown-menu> View </dropdown-menu>
    <dropdown-menu> Help </dropdown-menu>
  </nav>
</section>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-bar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span>
      File
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>New…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Open…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Open Recent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Save As…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Revert to Last Saved<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Close<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span> Edit <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span> View <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span> Help <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-menu</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>An Interactive Component</h1>

<p>We can define a component in HTML, and style it with CSS, but to be really useful, our component needs the ability to do something. We need to implement some interactions, and to do that, we will need Javascript.</p>

<p>Let’s implement a dropdown menu, like the <strong data-mark-around="**">File</strong> menu in most desktop applications.
There are two parts to the dropdown component:</p>

<ol><li><p>an <em data-mark-around="_">actuator</em> which identifies the menu and provides an affordance for the user to open it, and</p>
</li>

<li><p>the <em data-mark-around="_">menu</em> itself, a list of actions from which the user may select.</p>
</li>
</ol>

<p>So our component will have two slots.
The <em data-mark-around="_">menu</em> content will always require markup, so we will make it
a named slot. Since the <em data-mark-around="_">actuator</em> will often be untagged text, which makes it a good choice for
the unnamed slot.</p>

<p>First, we’ll define a template, and some styling to handle hiding and revealing the menu. We’ll use a checkbox to maintain the open/closed state, and wrapping the <code data-mark-around="`">&lt;label&gt;</code> for the checkbox around the actuator will allow it to control the open/closed state. No Javascript is required here.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-menu-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-shown<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-shown<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>Menu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Command 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Command 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Command 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">:host</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#is-shown</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">label</span> <span class="token punctuation">{</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">slot[name="menu"]</span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#is-shown:checked ~ slot[name="menu"]</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/* CSS for slotted elements and default slot content */</span>

    <span class="token selector">::slotted(ul[slot="menu"]),
    slot[name="menu"] &gt; ul</span> <span class="token punctuation">{</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>
      <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>The logic for closing the menu when the user clicks outside the menu can be applied from the component’s constructor, since we have a <code data-mark-around="`">this</code> handle.</p>

<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">V1DropdownElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dropdown-menu-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"is-shown"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">clickawayHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ev<span class="token punctuation">.</span><span class="token function">composedPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ev<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"change"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleClickAway</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput<span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token parameter">open</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput<span class="token punctuation">.</span>checked <span class="token operator">=</span> open<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleClickAway</span><span class="token punctuation">(</span>open<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toggleClickAway</span><span class="token punctuation">(</span><span class="token parameter">open</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>open<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clickawayHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clickawayHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"dropdown-menu"</span><span class="token punctuation">,</span> V1DropdownElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<p>Whenever the user clicks outside of our component, we want to close the menu.
Since all clicks on the page eventually propagate up to the document element,
we can listen for <code data-mark-around="`">"click"</code> events on <code data-mark-around="`">document</code>.
But clicks within our component will also propagate to <code data-mark-around="`">document</code>.
To check whether the event came from somewhere inside the component, we get the <code data-mark-around="`">composedPath</code>
of the event and check whether it includes our component.</p>

<p>If the click came from outside our component, we will close the menu by setting
<code data-mark-around="`">checked = false</code> on the checkbox.
Notice that since the <code data-mark-around="`">&lt;input&gt;</code> is in the shadow DOM, we need to access it via <code data-mark-around="`">this.shadowRoot</code>.
We put this line of code in a separate member function <code data-mark-around="`">toggle(open)</code> because keeps our constructor tidy.
It also gives us a head start on an API for our dropdown element.
In a bit, we’ll be glad to have only one place where all the state changes take place.</p>

<p>Now that we’ve coded our <code data-mark-around="`">"click"</code> event listener, we need to make sure it gets added to (and removed from) <code data-mark-around="`">document</code> at the appropriate times.
Essentially, we need to synchronize the addition and removal of the listener with the state of the menu, which is maintained in our checkbox.
To make sure we understand all the possible ways the state of the dropdown can change
let’s enumerate them:</p>

<ol><li><p>The user clicks on the actuator</p>
</li>

<li><p>The user clicks away from an open dropdown</p>
</li>

<li><p>The <code data-mark-around="`">toggle()</code> method is called</p>
</li>
</ol>

<p>This gives us only three places where we need to ensure the listener and the dropdown are in sync.
Since we implemented click-away to call <code data-mark-around="`">toggle()</code>, we don’t need to consider case 2 separately.</p>

<p>Let’s start with case 1.
When the user clicks on the actuator, the browser toggles the state of the checkbox, which then causes the menu to appear because of the CSS <code data-mark-around="`">:checked</code> selector.
There is no Javascript required to implement this interaction.
So we need to add another event listener to make our component aware of the checkbox state changes.</p>

<p>To address case 1, we need to listen for <code data-mark-around="`">"change"</code> events on the checkbox.
We set up this event listener in the constructor.
The handler needs to call <code data-mark-around="`">addEventListener</code> or <code data-mark-around="`">removeEventListener</code> depending on the current state of the checkbox.
In the interest of localizing all the event listener code, we implement a single function,
<code data-mark-around="`">toggleClickAway(open)</code>, which will add or remove the listener depending on whether the <code data-mark-around="`">open</code> argument is <code data-mark-around="`">true</code> or <code data-mark-around="`">false</code>.</p>

<p>Finally, we handle case 3 (as well as case 2) by calling <code data-mark-around="`">toggleClickAway</code>
with the same value that’s passed to <code data-mark-around="`">toggle</code>.</p>

</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  
</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Styling Slotted Content</h1>

<p>You may have noticed that a fair amount of the CSS for <code data-mark-around="`">dropdown-menu</code> uses the <code data-mark-around="`">::slotted</code> pseudo-element, paired with selectors that target the <code data-mark-around="`">slot</code> element in the template.
The <code data-mark-around="`">::slotted</code> pseudo-element allows a component’s CSS to target elements which are
outside the shadow DOM, as long as they have been slotted into the component.
And the paired selectors target the slots and the default content they contain.</p>

<p>Or you may have been concerned that we rely on the menu slot being filled by a <code data-mark-around="`">&lt;ul&gt;</code>.
What if we gave it a <code data-mark-around="`">&lt;table&gt;</code> instead? And what if we wanted to style the actuator differently?</p>

<p>While the <code data-mark-around="`">::slotted</code> pseudo-element has legitimate uses, here is is being used to overstep the
boundaries of the component. This violates <a href="https://en.wikipedia.org/wiki/Separation_of_concerns">Separation of Concerns</a> and <a href="https://en.wikipedia.org/wiki/Single-responsibility_principle">Single-Responsibility Principle</a>.</p>

<p>Let’s see how we can solve these problems before adding more functionality to <code data-mark-around="`">dropdown-menu</code>.</p>

</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <section>
  <nav class="menu-bar">
    <dropdown-base>
      File
      <command-menu slot="layer">
        <action-item>New…</action-item>
        <command-group>
          <action-item>Open…</action-item>
          <action-item>Open Recent</action-item>
        </command-group>
        <command-group>
          <action-item>Save</action-item>
          <action-item>Save As…</action-item>
          <action-item>Revert to Last Saved</action-item>
        </command-group>
        <action-item>Close</action-item>
      </command-menu>
    </dropdown-base>
    <dropdown-base>Edit</dropdown-base>
    <dropdown-base>View</dropdown-base>
    <dropdown-base>Help</dropdown-base>
  </nav>
</section>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-bar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>
      File
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command-menu</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>New…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command-group</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Open…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Open Recent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command-group</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command-group</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Save As…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Revert to Last Saved<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command-group</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Close<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>Edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>View<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>Help<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dropdown-base</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Composable Components</h1>

<p>Our dropdown component should make as few assumptions about what elements are used to fill the slots. Its sole responsibility is to open and close the dropdown.</p>

<p>Let’s refactor <code data-mark-around="`">dropdown-menu</code> to address these concerns, and make our dropdown component more
versatile at the same time.
The key abstraction that dropdown implements is, well, the dropping-down of some previously hidden UI.</p>

<p>Our first usage of this abstraction is for dropdown menus from a menubar. But the same idea (and code)
pertains to a preview image dropping down from a thumbnail, or an info card dropping down from a user’s avatar.
We can imagine creating the components <code data-mark-around="`">&lt;preview-image&gt;</code>, <code data-mark-around="`">&lt;info-card&gt;</code> as well as <code data-mark-around="`">&lt;command-menu&gt;</code>
being able to use our <code data-mark-around="`">dropdown-base</code> with any of them.</p>

<p>What other ways could we can make <code data-mark-around="`">dropdown-menu</code> more general? Does the user have to click on the actuator? Maybe they should be able to swipe? And what if we need the content to pop up instead of
dropping down?</p>

<p>These are all valid options when thinking about refactoring our dropdown.
If we carefully separate concerns we can design a set of components that can be put together,
or <em data-mark-around="_">composed</em>, in many different ways.
Instead of allowing just one dropdown, which can only be used in a menu bar, we can provide
a set of interchangeable parts, implementing a multitude of scenarios.
What’s, more the resulting system is easily extensible, and its capabilities grow
combinatorially as more components are added.</p>

<p>Let’s design a <code data-mark-around="`">&lt;command-menu&gt;</code> component and refactor `<dropdown-menu>`` to delegate the relevant responsibilities to the new component. We’ll start by renaming the elements in our dropdown menu example to better reflect the responsibilities of each.</dropdown-menu></p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-base-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-shown<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-shown<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">null</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Menu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>layer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command-menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Action Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Action Item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Action Item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">:host</span> <span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#is-shown</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#layer</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#is-shown:checked ~ #layer</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">DropdownBaseElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"dropdown-base-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"is-shown"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">clickawayHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ev<span class="token punctuation">.</span><span class="token function">composedPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ev<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"change"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleClickAway</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput<span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token parameter">open</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isShownInput<span class="token punctuation">.</span>checked <span class="token operator">=</span> open<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleClickAway</span><span class="token punctuation">(</span>open<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toggleClickAway</span><span class="token punctuation">(</span><span class="token parameter">open</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>open<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clickawayHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clickawayHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"dropdown-base"</span><span class="token punctuation">,</span> DropdownBaseElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  
</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>List-like Components</h1>

<p>The <code data-mark-around="`">&lt;command-menu&gt;</code> component can be used as a dropdown menu, a sidebar menu, etc.
A <code data-mark-around="`">&lt;command-group&gt;</code> allows similar menu options to be grouped together, and separated
from the rest by a divider.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>command-menu-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Menu Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Menu Item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Menu Item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>menu</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">menu</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0.5em<span class="token punctuation">;</span>
      <span class="token property">gap</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>
      <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>command-group-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>top-hr<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Group Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Group Item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Group Item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">:host</span> <span class="token punctuation">{</span>
      <span class="token property">--command-group-display-top-hr</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">hr</span> <span class="token punctuation">{</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0 -0.5em 0.25em<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">#top-hr</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--command-group-display-top-hr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">ul</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 0 0.25em<span class="token punctuation">;</span>
      <span class="token property">gap</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>
      <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<ide-ative data-language="css" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-css"><span class="token selector">command-group + command-group</span> <span class="token punctuation">{</span>
  <span class="token property">--command-group-display-top-hr</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">CommandMenuElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"command-menu-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CommandGroupElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"command-group-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"command-menu"</span><span class="token punctuation">,</span> CommandMenuElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"command-group"</span><span class="token punctuation">,</span> CommandGroupElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  <format-data name="count">The count is {count}.</format-data>
<action-item>↑</action-item>
<action-item>↓</action-item>
<action-item>Reset</action-item>

</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code lang="html" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>format-data</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>count<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>The count is {count}.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>format-data</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>↑<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>↓<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action-item</span><span class="token punctuation">&gt;</span></span>Reset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action-item</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Components that handle events</h1>

<p>The <code data-mark-around="`">&lt;action-item&gt;</code> component was originally designed to be an item in a command menu. It’s not called <code data-mark-around="`">command-item</code> because it should work for more than commands.
<code data-mark-around="`">&lt;action-item&gt;</code> is meant to be composable, or even used alone.</p>

<ide-ative data-language="html" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action-item-template<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>Some Action<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">button</span> <span class="token punctuation">{</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
      <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<ide-ative data-language="js" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">ActionItemElement</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"action-item-template"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">"open"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">"action-item"</span><span class="token punctuation">,</span> ActionItemElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>
<oper-ative class="wyn4ozqi9"><!-- template --><output class="render">
  
</output>

<style>.wyn4ozqi9{height:100%;width:100%;overflow:auto;grid-column:var(--render-grid-column)}.wyn4ozqi9 .render{min-width:100%;min-height:100%;display:block;position:relative;padding:var(--sizeRenderPadding)}@media print{.wyn4ozqi9{display:block;height:auto;overflow:hidden}.wyn4ozqi9 .render{min-width:0;min-height:0}}</style>
<!-- /template -->
</oper-ative>
<ide-ative data-language="auto" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
<narr-ative class="wrjuayo-j"><!-- template id="narr-ative" webc:raw --><section class="prose">
  <h1>Appendix</h1>

<p>This stuff is used in the workbook but does not warrant discussion.</p>

<ide-ative data-language="css" class="wbxffgulu"><!-- template --><figure class="code">
  <figcaption></figcaption>
  <pre class="language-markup"><code class="language-css"><span class="token comment">/* CSS to clean up the demo */</span>

<span class="token selector">.menu-bar</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 4em<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f0f0f0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 0.5em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.menu-bar::after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 4px solid #888<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.menu-bar &gt; *</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.5em 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</figure>

<style>.wbxffgulu{--ide-language: attr(data-language);height:100%;width:100%;overflow:hidden;grid-column:var(--code-grid-column)}.wbxffgulu .code{height:max-content;max-width:100%;max-height:100%;overflow:auto}.wbxffgulu figcaption:empty::after{content:var(--ide-language, "code")}@media print{.wbxffgulu{display:block;height:auto;break-inside:avoid}}</style>
<!-- /template -->
</ide-ative>
</section>

<style>@import "/styles/theme.css";.wrjuayo-j{grid-column:var(--prose-grid-column);grid-row-end:span 2;overflow:hidden auto;height:100%;width:100%}.wrjuayo-j .prose{font-family:var(--fontBody);font-size:var(--textSizeProse);font-weight:var(--textWeightProse);line-height:var(--lineHeightProse);color:var(--textColorProse);outline:none;padding:10em 0 1em 0;height:min-content}.wrjuayo-j .prose>*{margin:1rem;position:relative}.wrjuayo-j .prose>ul,.wrjuayo-j .prose>ol{margin-left:2rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:65ch}.wrjuayo-j .prose>figure{margin:0.5rem}.wrjuayo-j .prose pre>*:focus{outline:none}.wrjuayo-j .prose>h1,.wrjuayo-j .prose>h2,.wrjuayo-j .prose>h3,.wrjuayo-j .prose>h4,.wrjuayo-j .prose>h5,.wrjuayo-j .prose>h6{font-family:var(--fontDisplay);font-weight:var(--textWeightHeading);color:var(--textColorHeading)}.wrjuayo-j .prose>h1{font-size:var(--textSizeH1)}.wrjuayo-j .prose>h2{font-size:var(--textSizeH2)}.wrjuayo-j .prose>h3{font-size:var(--textSizeH3)}.wrjuayo-j .prose pre[class*="language-"]{overflow:hidden}.wrjuayo-j .prose>*+*{margin-top:0.5em}.wrjuayo-j .prose>h1+*{margin-top:2em}.wrjuayo-j .prose ul,.wrjuayo-j .prose ol{padding-left:1em}.wrjuayo-j .prose ul>li,.wrjuayo-j .prose ol>li{position:relative}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>code{color:var(--textColorInlineCode);font-family:var(--fontCode);background:var(--backgroundInlineCode)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a{color:inherit;text-decoration:none;background:linear-gradient(transparent,transparent 50%,var(--backgroundLink));padding:0 0.25em;border:var(--borderLink);border-radius:var(--borderRadiusLink);cursor:pointer}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) a:hover{color:var(--textColorHoverLink)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) strong{font-weight:var(--textWeightStrong)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6) em{font-style:--var(textStyleEmphasis)}.wrjuayo-j .prose>br{margin:0;line-height:0}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)>*::after{display:inline;color:var(--textColorMarkup);background:var(--backgroundMarkup);font-family:var(--fontCode);line-height:var(--lineHeightMarkup);font-style:var(--textStyleMarkup);border-radius:var(--borderRadiusMarkup);font-size:var(--textSizeMarkup);font-weight:var(--textWeightMarkup);padding:var(--borderRadiusMarkup);vertical-align:0.2em;border:var(--borderMarkup);margin:0 0.1rem}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6)::before,.wrjuayo-j .prose>*>li::before{display:block;position:absolute;right:100%;top:0.2em;height:1rem;width:1rem}.wrjuayo-j .prose>ul::before,.wrjuayo-j .prose>ol::before{display:block;position:absolute;right:100%}.wrjuayo-j .prose>[data-mark-before]:focus::before{content:attr(data-mark-before)}.wrjuayo-j .prose>*:focus>li[data-mark-before]{list-style:none}.wrjuayo-j .prose>*:focus>li[data-mark-before]::before{content:attr(data-mark-before)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::before,.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus [data-mark-around]::after{content:attr(data-mark-around)}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::before{content:"["}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a::after{content:"]"}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6):focus a[href]::after{content:"]("attr(href)")"}@media print{.wrjuayo-j{break-before:page}.wrjuayo-j .prose{width:100%;display:flex;flex-direction:column;align-items:center}.wrjuayo-j .prose>:is(p,ul,ol,h1,h2,h3,h4,h5,h6){max-width:40rem;width:60%}}</style>
<!-- /template -->


</narr-ative>

</main>

<style>.wca28tbqe{--heightViewer: calc(100vh - var(--heightFooter));height:var(--heightViewer);overflow:hidden;position:relative}.wca28tbqe .layout{--render-grid-column: 1;--code-grid-column: 1;--prose-grid-column: 2;display:grid;position:relative;top:calc(var(--heightViewer)*(1 - var(--current-scene, 1)));grid-template-columns:60vw 40vw;grid-auto-rows:calc(0.6*var(--heightViewer)) calc(0.4*var(--heightViewer));grid-auto-flow:column;justify-items:start;transition:top 0.5s ease-in-out;pointer-events:none}.wca28tbqe .layout>*{pointer-events:all}@media print{.wca28tbqe .layout{--prose-grid-row: unset;--render-grid-row: unset;--code-grid-row: unset;position:relative;top:auto;left:auto;height:auto;grid-template-columns:initial;grid-template-rows:initial;grid-auto-columns:initial}.wca28tbqe .layout .render{break-before:page;break-inside:avoid;border:1px dotted black}.wca28tbqe .layout .code{overflow:visible}}</style>

<script>
  customElements.define(
    "consolid-ative",
    class extends HTMLElement {
      connectedCallback() {
        let provider = this.closest("[data-provider]");

        if (provider) {
          const { value: currentScene } = provider.observe(
            "current-scene",
            (newValue) => {
              console.log("Setting layout to scene", newValue);
              this.style = `--current-scene: ${newValue}`;
            }
          );

          console.log("Consolid-ative (webc)");
        }
      }
    }
  );
</script>
</consolid-ative>

</article>

<style>
  article {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    flex-direction: column-reverse;
  }

  @media print {
    article {
      position: static;
      height: auto;
      width: 100%;
    }
  }
</style>
<!-- /template -->
</st-ative>
<script type="module">

import { mount } from "/scripts/oper.ative.js";
console.log("Mounting Operative");
const mountpoint = document.getElementById("lets-be-oper-ative");
const initial = undefined;
const moduleNames = ["Kram_ccdea868_webc"];
moduleNames.forEach((name) => mount(name, mountpoint, initial));

</script>


</body>
</html>